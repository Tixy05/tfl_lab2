## О построении автомата, планарности и ориентации
Рассмотрим произвольный автомат $A$, удовлетворяющий условиям бинарного (необязательно планарного) лабиринта без ориентаци, то есть пока опустим тот факт, что L и R задают конкретное направление. Тогда для соответствующего ему графа $G_A$ справедливы следующие суждения:
- $deg(v) \leq 3 \: \forall v \in G_A$
- $deg^-(v) = 1 \: \forall v \in G_A$
- $deg^+(v) \leq 2 \: \forall v \in G_A$

Покажем, что любой такой граф $G_A$ планарен. По теореме Понтрягина-Куратовского достаточное условие планарности графа есть отсутствие в нём подразбиений полного графа $K_5$ и полного двудольного графа $K_{3,3}$.
В силу того, что $deg(v) \leq 3$ для любой вершины $v$, а в любом подразбиении полного графа $K_5$ содержится вершина $u \: | \: deg(u) = 5$, искомый граф $G_A$ удовлетворяет первому достаточному условию планарности.
Рассмотрим теперь полный двудольный граф $K_{3,3}$. Рассмотрим множества вершин из одной доли и из другой, назовём их $V_1$ и $V_2$ соответственно. Из $V_1$ в $V_2$ следует суммарно 6 дуг.
Тогда, так как $|V_2| = 3$, по принципу Дирихле есть вершина $w \in V_2 \: | deg^-(w) > 1$. Однако у искомого графа $G_A$ нет вершин со степенью входа больше единицы. Тогда граф $G_A$ выполняет достаточные условия теоремы Понтрягина-Куратовского и является планарным по построению.

Покажем теперь, что любой такой такой автомат $A$ имеет соответствующий плоский граф, где соблюдена ориентация (L соответствует левая дуга, а R правая). В силу некомпетентности автора в теории графов, доказательство будет неформальным и, возможно, некорректным. Пусть $I$ - изображение $G_A$. Назовём проблемной вершиной такую, у которой нарушена ориентация. Если в $I$ нет проблемных вершин, то процесс завершён. Иначе существует два варианта.

- Проблемная вершина не состоит в цикле. Тогда просто меняем ветви местами
- Проблемная вершина состоит в цикле. Заметим, что любая вершина может состоять максимум в одном цикле (иначе нарушается свойство $deg^-(v) = 1 \: \forall v \in G_A$). Тогда можно опять поменять ветви местами (выражаясь ещё более неформально, можно "засунуть" неправильно ориентированную ветвь внутрь цикла).

Вышеуказанный алгоритм применяется до тех пор, пока проблемных вершин не останется. Основаны эти рассуждения на том, что граф конечен, и на хитрости, которая заключается в том, что растяжение планарного графа не сказывается ни на ориентации, ни на планарности. Поэтому для "отзеркаливания" ветвей всегда хватит места, ведь предварительно их можно уменьшить до удобного размера.
